<!DOCTYPE html>
<html>
<head>
    <title>XSS Playground</title>
    <style>
        * {margin: 0; padding: 0; box-sizing: border-box;}
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
            color: #fff;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        header {
            font-size: 2.5em;
            font-weight: bold;
            margin: 20px 0 40px;
            background: linear-gradient(90deg, #ff9966, #ff5e62);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        main {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            width: 100%;
            max-width: 1200px;
        }
        .card {
            background: rgba(255, 255, 255, 0.07);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(12px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            animation: fadeIn 0.5s ease-in-out;
        }
        h2 {
            font-size: 1.3em;
            margin-bottom: 15px;
            color: #ffcc70;
        }
        .input-row {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        input[type=text] {
            flex: 1;
            padding: 10px 14px;
            border-radius: 8px;
            border: none;
            outline: none;
            font-size: 14px;
        }
        button {
            background: linear-gradient(90deg, #ff9966, #ff5e62);
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: transform 0.1s ease;
        }
        button:hover {transform: scale(1.05);}
        .box {
            min-height: 50px;
            padding: 10px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            overflow-wrap: break-word;
        }
        @keyframes fadeIn {
            from {opacity: 0; transform: translateY(10px);}
            to {opacity: 1; transform: translateY(0);}
        }
        @media (max-width: 900px) {
            main {grid-template-columns: 1fr;}
        }
    </style>
</head>
<body>
<header>XSS Playground</header>
<main id="cards"></main>
<script>
const challenges = [
    "Instant XSS #1", "Instant XSS #2", "Instant XSS #3",
    "Button XSS #4", "Button XSS #5", "Button XSS #6",
    "Param XSS #7", "Button XSS #8", "Delayed XSS #9",
    "Eval XSS #10",
    "Attribute Injection XSS #11", "Template Literal XSS #12",
    "Iframe Srcdoc XSS #13", "Base64 Decode XSS #14",
    "DOM Based URL Fragment XSS #15", "Event Handler XSS #16",
    "Canvas Tainted XSS #17", "History API XSS #18",
    "LocalStorage XSS #19", "JSON Parse XSS #20",
    "DOM Clobbering XSS #21", "MutationObserver XSS #22",
    "Service Worker XSS #23", "WebSocket Echo XSS #24",
    "PostMessage XSS #25", "innerHTML Chain XSS #26",
    "Dynamic Script XSS #27", "setTimeout Code XSS #28",
    "Shadow DOM XSS #29", "Trusted Types Bypass XSS #30"
];
const main = document.getElementById("cards");
challenges.forEach((title, idx) => {
    const card = document.createElement("div");
    card.className = "card";
    const h2 = document.createElement("h2");
    h2.textContent = title;
    card.appendChild(h2);
    if ([4,5,6,8,11,12,13,14,15,16,17,18,19,26,27,28].includes(idx+1)) {
        const row = document.createElement("div");
        row.className = "input-row";
        const input = document.createElement("input");
        input.type = "text";
        input.id = `input${idx+1}`;
        const btn = document.createElement("button");
        btn.textContent = "Run";
        btn.onclick = () => runXSS(idx+1);
        row.appendChild(input);
        row.appendChild(btn);
        card.appendChild(row);
    }
    const box = document.createElement("div");
    box.className = "box";
    box.id = `box${idx+1}`;
    if (idx+1 === 9) box.textContent = "Wait 2s...";
    if (idx+1 === 10) box.textContent = "Pass `code` param in URL";
    main.appendChild(card);
    card.appendChild(box);
});
const params = new URLSearchParams(location.search);
function runXSS(id) {
    const val = document.getElementById(`input${id}`).value;
    switch(id) {
        case 4: document.getElementById("box4").innerHTML = val; break;
        case 5: document.getElementById("box5").innerHTML = val; break;
        case 6: document.getElementById("box6").innerHTML = "Profile: " + val; break;
        case 8: document.getElementById("box8").innerHTML = "<b>Product:</b> " + val; break;
        case 11: document.getElementById("box11").setAttribute("data-x", val); break;
        case 12: document.getElementById("box12").innerHTML = eval('`'+val+'`'); break;
        case 13: document.getElementById("box13").innerHTML = `<iframe srcdoc="${val}"></iframe>`; break;
        case 14: document.getElementById("box14").innerHTML = atob(val); break;
        case 15: location.hash = val; document.getElementById("box15").innerHTML = location.hash.substring(1); break;
        case 16: document.getElementById("box16").setAttribute("onclick", val); break;
        case 17: const c = document.createElement("canvas"); c.onclick = () => eval(val); document.getElementById("box17").appendChild(c); break;
        case 18: history.pushState({}, "", val); document.getElementById("box18").innerHTML = document.location; break;
        case 19: localStorage.payload = val; document.getElementById("box19").innerHTML = localStorage.payload; break;
        case 26: document.getElementById("box26").innerHTML = val; document.getElementById("box26").innerHTML += val; break;
        case 27: const s = document.createElement("script"); s.innerHTML = val; document.body.appendChild(s); break;
        case 28: setTimeout(val, 1000); break;
        default: document.getElementById(`box${id}`).innerHTML = val; break;
    }
}
if (params.get("x1")) document.getElementById("box1").innerHTML = params.get("x1");
if (params.get("x2")) document.getElementById("box2").innerHTML = params.get("x2");
if (params.get("x3")) document.getElementById("box3").innerHTML = params.get("x3");
if (params.get("showme")) document.getElementById("box7").innerHTML = params.get("showme");
if (params.get("x4")) setTimeout(()=>document.getElementById("box9").innerHTML=params.get("x4"),2000);
if (params.get("code")) eval(params.get("code"));
</script>
</body>
</html>
