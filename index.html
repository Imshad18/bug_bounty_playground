<!DOCTYPE html>
<html>
<head>
    <title>XSS Playground</title>
    <style>
        * {margin: 0; padding: 0; box-sizing: border-box;}
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
            color: #fff;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        header {
            font-size: 2.5em;
            font-weight: bold;
            margin: 20px 0 40px;
            background: linear-gradient(90deg, #ff9966, #ff5e62);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        main {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            width: 100%;
            max-width: 1200px;
        }
        .card {
            background: rgba(255, 255, 255, 0.07);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(12px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            animation: fadeIn 0.5s ease-in-out;
        }
        h2 {
            font-size: 1.3em;
            margin-bottom: 15px;
            color: #ffcc70;
        }
        .input-row {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        input[type=text] {
            flex: 1;
            padding: 10px 14px;
            border-radius: 8px;
            border: none;
            outline: none;
            font-size: 14px;
        }
        button {
            background: linear-gradient(90deg, #ff9966, #ff5e62);
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: transform 0.1s ease;
        }
        button:hover {transform: scale(1.05);}
        .box {
            min-height: 50px;
            padding: 10px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            overflow-wrap: break-word;
        }
        @keyframes fadeIn {
            from {opacity: 0; transform: translateY(10px);}
            to {opacity: 1; transform: translateY(0);}
        }
        @media (max-width: 900px) {
            main {grid-template-columns: 1fr;}
        }
    </style>
</head>
<body>
<header>XSS Playground</header>
<main id="cards"></main>
<script>
const list = [
"Instant XSS 1","Instant XSS 2","Instant XSS 3",
"Button XSS 4","Button XSS 5 (It's broken, skip it)","Attribute alt XSS 6",
"Onclick attribute XSS 7","Delayed setTimeout XSS 8","Eval param XSS 9","Base64 decode XSS 10",
"Template literal XSS 11","JSON parse XSS 12","History API XSS 13","LocalStorage XSS 14","DOM Clobbering XSS 15",
"MutationObserver XSS 16","Dynamic script XSS 17","Shadow DOM XSS 18","PostMessage XSS 19","Event attribute XSS 20"
];
const root = document.getElementById('cards');
list.forEach((t, i)=>{
  const n = i+1;
  const card = document.createElement('div'); card.className='card';
  const h = document.createElement('h2'); h.textContent=t; card.appendChild(h);
  const needsInput = [4,5,6,7,11,12,13,14,15,16,17,18,19,20];
  if(needsInput.includes(n)){
    const row = document.createElement('div'); row.className='input-row';
    const inp = document.createElement('input'); inp.type='text'; inp.id='i'+n;
    const btn = document.createElement('button'); btn.textContent='Run'; btn.onclick = ()=>run(n);
    row.appendChild(inp); row.appendChild(btn); card.appendChild(row);
  }
  const box = document.createElement('div'); box.className='box'; box.id='b'+n;
  if(n===9) box.textContent = 'Pass `code` param in URL';
  root.appendChild(card); card.appendChild(box);
});
const ps = new URLSearchParams(location.search);
function run(id){
  const v = (document.getElementById('i'+id)||{}).value||'';
  if(id===4) document.getElementById('b4').innerHTML = v;
  if(id===5) document.getElementById('b5').innerHTML = v.replace(/</g,'&lt;').replace(/>/g,'&gt;');
  if(id===6) { const img = document.createElement('img'); img.src='x'; img.alt = v; document.getElementById('b6').innerHTML=''; document.getElementById('b6').appendChild(img); }
  if(id===7) document.getElementById('b7').innerHTML = '<div onclick="'+v+'">Click me</div>';
  if(id===11) try{ document.getElementById('b11').innerHTML = eval('`'+v+'`') }catch(e){ document.getElementById('b11').textContent='Error' }
  if(id===12) try{ const o = JSON.parse(v); document.getElementById('b12').innerHTML = o.data }catch(e){ document.getElementById('b12').textContent='Invalid JSON' }
  if(id===13) try{ history.pushState({},'',v); document.getElementById('b13').textContent = location.href }catch(e){}
  if(id===14){ try{ localStorage.setItem('xss14', v); document.getElementById('b14').innerHTML = localStorage.getItem('xss14') }catch(e){document.getElementById('b14').textContent='Error'} }
  if(id===15) try{ document.getElementById('b15').outerHTML = v }catch(e){ document.getElementById('b15').textContent='Error' }
  if(id===16) try{ const target = document.getElementById('b16'); const mo = new MutationObserver(()=>{ try{ new Function(target.dataset.exec)() }catch(e){} }); mo.observe(target,{childList:true,subtree:true}); target.dataset.exec = v; target.appendChild(document.createTextNode('x')); }catch(e){ document.getElementById('b16').textContent='Error' }
  if(id===17) try{ const s = document.createElement('script'); s.textContent = v; document.getElementById('b17').appendChild(s) }catch(e){ document.getElementById('b17').textContent='Error' }
  if(id===18) try{ const host = document.getElementById('b18'); const sh = host.attachShadow({mode:'open'}); sh.innerHTML = v }catch(e){ document.getElementById('b18').textContent='Error' }
  if(id===19) try{ const f = document.createElement('iframe'); f.style.display='none'; document.body.appendChild(f); window.addEventListener('message', e=>{ document.getElementById('b19').innerHTML = e.data }); f.contentWindow.postMessage(v, '*') }catch(e){ document.getElementById('b19').textContent='Error' }
  if(id===20) document.getElementById('b20').innerHTML = '<div '+v+'>Event test</div>';
}
if(ps.get('p1')) document.getElementById('b1').innerHTML = ps.get('p1');
if(ps.get('p2')) document.getElementById('b2').innerHTML = ps.get('p2');
if(ps.get('p3')) document.getElementById('b3').innerHTML = '<iframe srcdoc="'+ps.get('p3')+'"></iframe>';
if(ps.get('p8')) try{ setTimeout(new Function(ps.get('p8')),1000) }catch(e){}
if(ps.get('p9')) try{ new Function(ps.get('p9'))() }catch(e){}
if(ps.get('p10')) try{ document.getElementById('b10').innerHTML = atob(ps.get('p10')) }catch(e){}
</script>
</body>
</html>
